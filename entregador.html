<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Painel Entregador - Scatambulo</title>

    <link
      href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/@maplibre/maplibre-gl-directions@0.7.1/dist/maplibre-gl-directions.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />

    <script src="https://unpkg.com/@phosphor-icons/web"></script>
  </head>
  <body>
    <header>
      <div class="header-container">
        <h1>Painel Entregador</h1>
        <div class="desktop-nav">
          <button
            id="follow-me-button"
            class="btn-secondary"
            style="width: 44px; height: 44px; border-radius: 50%; padding: 0"
          >
            <i class="ph ph-navigation-arrow" style="font-size: 20px"></i>
          </button>
          <button id="logout-button" class="btn-secondary">
            <i class="ph ph-sign-out"></i> Sair
          </button>
        </div>

        <button class="hamburger-menu" aria-label="Menu">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </button>
      </div>
    </header>

    <nav class="mobile-nav">
      <div class="divider"></div>
    </nav>

    <!-- Dynamic Island -->
    <div id="dynamic-island" class="dynamic-island">
      <div class="island-icon">
        <i class="ph-fill ph-moped"></i>
      </div>
      <div class="island-content">
        <strong id="dynamic-island-client">Entregador</strong>
        <span id="dynamic-island-address">Aguardando entrega</span>
      </div>
      <div class="island-actions dynamic-island-buttons">
        <button
          id="dynamic-island-cancel-btn"
          class="btn-island-cancel"
          title="Cancelar Navegação"
        >
          <i class="ph ph-x"></i>
        </button>
        <button
          id="dynamic-island-finish-btn"
          class="btn-island-finish"
          title="Confirmar Entrega"
        >
          <i class="ph ph-check"></i>
        </button>
      </div>
    </div>

    <main class="container">
      <section id="map-section">
        <h2><i class="ph ph-map-pin"></i> Mapa de Entregas</h2>
        <div id="map-container">
          <div id="map"></div>

          <div id="map-overlay-top" class="map-overlay-top-entregador">
            <div class="map-info-item map-info-item-border-right">
              <div id="distance-display" class="map-info-value">-- km</div>
              <div class="map-info-label">Distância</div>
            </div>
            <div class="map-info-item">
              <div id="eta-display" class="map-info-value">-- min</div>
              <div class="map-info-label">ETA</div>
            </div>
            <div class="map-info-item map-info-item-border-left">
              <div id="speed-display" class="map-info-value">-- km/h</div>
              <div class="map-info-label">Veloc.</div>
            </div>
          </div>

          <div id="nav-hud" class="nav-hud-entregador">
            <div class="hud-controls">
              <button
                id="follow-me-button"
                class="btn-secondary"
                title="Seguir Entregador"
                style="width: 44px; height: 44px; border-radius: 50%"
              >
                <i class="ph ph-compass"></i>
              </button>
              <button
                id="satellite-toggle"
                class="btn-secondary"
                title="Modo Satélite"
                style="width: 44px; height: 44px; border-radius: 50%"
              >
                <i class="ph ph-globe"></i>
              </button>
              <button
                id="toggle-3d"
                class="btn-secondary"
                title="Visualização 3D"
                style="width: 44px; height: 44px; border-radius: 50%"
              >
                <i class="ph ph-cube"></i>
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="orders-section" style="margin-top: 30px">
        <div id="ready-for-delivery-container">
          <h3><i class="ph ph-package"></i> Prontos para Entrega</h3>
          <div id="ready-for-delivery-list"></div>
        </div>

        <h3 style="margin-top: 20px">
          <i class="ph ph-moped"></i> Em Rota (Outros)
        </h3>
        <div id="in-route-list"></div>
      </section>
    </main>

    <div id="modal-container"></div>
    <div id="toast-container"></div>

    <script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>
    <script type="module" src="js/componentLoader.js"></script>
    <script type="module" src="js/entregador.js"></script>
  </body>
</html>
